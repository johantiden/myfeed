app.service('documentService', function($http, $cacheFactory) {
    "use strict";

    var fakeData = false;
    this.putDocument = function (item, callback) {
        $http.put("/rest/documents", item).then(callback);
    };

    this.getAllKeys = function (accountname, callback) {
        if (fakeData) {
            callback([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57]);
            return;
        }
        $http({
            method: 'GET',
            url: '/rest/index/'+accountname,
            headers: {
                'Cache-Control': 'no-cache, no-store'
            }
        }).then(function(response) {
            callback(response.data);
        });
    };

    this.getDocument = function (key, callback) {
        $http({
            method: 'GET',
            url: '/rest/accountdocument/'+key,
            headers: {
                'Cache-Control': 'no-cache, no-store'
            }
        }).then(function(response) {
            callback(response.data);
        });
    };

    this.getDocuments = function (keys, callback) {
        if (fakeData) {
            callback([{"accountDocumentId":1,"feed":{"name":"Reddit - r/all","url":"https://www.reddit.com/r/all"},"title":"Bollywood at it finest.","tabs":["Fun"],"text":null,"score":86030.0,"author":null,"pageUrl":"https://www.reddit.com/r/funny/comments/7jxoon/bollywood_at_it_finest/","imageUrl":"https://i.imgur.com/H4N8f2V.gifv.jpg","publishedDate":{"nano":0,"epochSecond":1513315334},"html":null,"read":false,"videos":[],"subjects":["Funny"],"publishedDateShort":"7h"},{"accountDocumentId":3,"feed":{"name":"Reddit - r/all","url":"https://www.reddit.com/r/all"},"title":"My dad looks exactly like Mark Hamill and came to the theatre in costume. He got lots of pictures","tabs":["Unmatched"],"text":null,"score":26565.0,"author":null,"pageUrl":"https://www.reddit.com/r/StarWars/comments/7jxaan/my_dad_looks_exactly_like_mark_hamill_and_came_to/","imageUrl":"https://i.redd.it/iiyswhx2g0401.jpg","publishedDate":{"nano":0,"epochSecond":1513310680},"html":null,"read":false,"videos":[],"subjects":["StarWars"],"publishedDateShort":"8h"},{"accountDocumentId":5,"feed":{"name":"Reddit - r/all","url":"https://www.reddit.com/r/all"},"title":"CA, NY & WA taking steps to fight back after repeal of NN","tabs":["Nyheter"],"text":null,"score":35447.0,"author":null,"pageUrl":"https://www.reddit.com/r/news/comments/7jx4yr/ca_ny_wa_taking_steps_to_fight_back_after_repeal/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513309028},"html":null,"read":false,"videos":[],"subjects":["News"],"publishedDateShort":"8h"},{"accountDocumentId":6,"feed":{"name":"Reddit - r/all","url":"https://www.reddit.com/r/all"},"title":"UPS loses Familyâ€™s $846K Inheritance, Offers to Refund $32 Shipping Fee","tabs":["Fun"],"text":null,"score":38802.0,"author":null,"pageUrl":"https://www.reddit.com/r/nottheonion/comments/7jx5td/ups_loses_familys_846k_inheritance_offers_to/","imageUrl":"https://a.thumbs.redditmedia.com/2vc-_jECqW0q32ggxICyy3nrsMTcAK2DIpsU20_SMK8.jpg","publishedDate":{"nano":0,"epochSecond":1513309279},"html":null,"read":false,"videos":[],"subjects":["Nottheonion"],"publishedDateShort":"8h"},{"accountDocumentId":7,"feed":{"name":"Reddit - r/all","url":"https://www.reddit.com/r/all"},"title":"TIL Hawaii has nearly one tourist die each week while engaged in common vacation activities like swimming, snorkeling, hiking and going on scenic drives","tabs":["Fun"],"text":null,"score":21988.0,"author":null,"pageUrl":"https://www.reddit.com/r/todayilearned/comments/7jwwoj/til_hawaii_has_nearly_one_tourist_die_each_week/","imageUrl":"https://b.thumbs.redditmedia.com/kCDoXRLh3nItXJSN6alJH3IlBSQn4OVTRBQ8NRYxomU.jpg","publishedDate":{"nano":0,"epochSecond":1513306518},"html":null,"read":false,"videos":[],"subjects":["Todayilearned"],"publishedDateShort":"9h"},{"accountDocumentId":8,"feed":{"name":"Reddit - r/all","url":"https://www.reddit.com/r/all"},"title":"Okami HD in a nutshell.","tabs":["Fun"],"text":null,"score":45964.0,"author":null,"pageUrl":"https://www.reddit.com/r/gaming/comments/7jwfnj/okami_hd_in_a_nutshell/","imageUrl":"https://b.thumbs.redditmedia.com/UYSpUIS3-pyQGjrWqKtbTRKZib1JiQuBNVRkdaNW8lU.jpg","publishedDate":{"nano":0,"epochSecond":1513301540},"html":null,"read":false,"videos":[],"subjects":["Gaming"],"publishedDateShort":"10h"},{"accountDocumentId":9,"feed":{"name":"Reddit - r/all","url":"https://www.reddit.com/r/all"},"title":"How did they not see this??","tabs":["Fun"],"text":null,"score":21410.0,"author":null,"pageUrl":"https://www.reddit.com/r/CrappyDesign/comments/7jwbfj/how_did_they_not_see_this/","imageUrl":"https://i.redd.it/7w6qtypdlz301.jpg","publishedDate":{"nano":0,"epochSecond":1513300351},"html":null,"read":false,"videos":[],"subjects":["CrappyDesign"],"publishedDateShort":"11h"},{"accountDocumentId":10,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"While focus is on North Korea, China continues South China Sea buildup: think tank","tabs":["Nyheter"],"text":"WASHINGTON (Reuters) - While attention in Asia has been distracted by the North Korean nuclear crisis in the past year, China has continued to install high-frequency radar and other facilities that can be used for military purposes on its man-made islands in the South China Sea, a U.S. think tank said on Thursday.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/OKs6aZrDttQ/while-focus-is-on-north-korea-china-continues-south-china-sea-buildup-think-tank-idUSKBN1E834O","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513329814},"html":"WASHINGTON (Reuters) - While attention in Asia has been distracted by the North Korean nuclear crisis in the past year, China has continued to install high-frequency radar and other facilities that can be used for military purposes on its man-made islands in the South China Sea, a U.S. think tank said on Thursday.","read":false,"videos":[],"subjects":["USA","Kina","Nordkorea"],"publishedDateShort":"2h"},{"accountDocumentId":11,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"U.N. chief presses for release of arrested Reuters journalists in Myanmar","tabs":["Nyheter"],"text":"TOKYO/YANGON (Reuters) - The arrest of two Reuters journalists in Yangon this week was a signal that press freedom is shrinking in Myanmar and the international community must do all it can to get them released, U.N. Secretary-General Antonio Guterres said on Thursday.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/cEwxQoIljCA/u-n-chief-presses-for-release-of-arrested-reuters-journalists-in-myanmar-idUSKBN1E8183","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513306229},"html":"TOKYO/YANGON (Reuters) - The arrest of two Reuters journalists in Yangon this week was a signal that press freedom is shrinking in Myanmar and the international community must do all it can to get them released, U.N. Secretary-General Antonio Guterres said on Thursday.","read":false,"videos":[],"subjects":["Myanmar","USA","United Nations"],"publishedDateShort":"9h"},{"accountDocumentId":12,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"Kremlin: Putin and Trump agreed to exchange information on North Korea","tabs":["Nyheter"],"text":"MOSCOW (Reuters) - The Kremlin said on Friday that President Vladimir Putin and his U.S. counterpart Donald Trump had agreed in a phone call to exchange information about North Korea and cooperate on possible initiatives to resolve a crisis around the Asian nation.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/VH7AugneHs8/kremlin-putin-and-trump-agreed-to-exchange-information-on-north-korea-idUSKBN1E916K","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513336779},"html":"MOSCOW (Reuters) - The Kremlin said on Friday that President Vladimir Putin and his U.S. counterpart Donald Trump had agreed in a phone call to exchange information about North Korea and cooperate on possible initiatives to resolve a crisis around the Asian nation.","read":false,"videos":[],"subjects":["Vladimir Putin","USA","Ryssland","Nordkorea","Trump"],"publishedDateShort":"1h"},{"accountDocumentId":13,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"Russia says Iran nuclear deal breakdown would hurt effort to manage North Korea","tabs":["Nyheter"],"text":"MOSCOW (Reuters) - Russian Foreign Minister Sergei Lavrov said a possible breakdown of the Iran nuclear deal would send the wrong signal when it came to trying to resolve the situation around North Korea, the RIA and Interfax news agencies reported on Friday.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/NHasMxNnqXk/russia-says-iran-nuclear-deal-breakdown-would-hurt-effort-to-manage-north-korea-idUSKBN1E90Q6","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513326053},"html":"MOSCOW (Reuters) - Russian Foreign Minister Sergei Lavrov said a possible breakdown of the Iran nuclear deal would send the wrong signal when it came to trying to resolve the situation around North Korea, the RIA and Interfax news agencies reported on Friday.","read":false,"videos":[],"subjects":["USA","Iran","Ryssland","Nordkorea"],"publishedDateShort":"4h"},{"accountDocumentId":14,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"Russian court jails ex-minister Ulyukayev for eight years in bribery case","tabs":["Nyheter","Biz"],"text":"MOSCOW (Reuters) - A Russian court sentenced ex-economy minister Alexei Ulyukayev to eight years in prison on Friday after finding him guilty of taking a $2 million bribe from Igor Sechin, the CEO of oil giant Rosneft.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/7BuTuBkvFPk/russian-court-jails-ex-minister-ulyukayev-for-eight-years-in-bribery-case-idUSKBN1E90SN","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513338931},"html":"MOSCOW (Reuters) - A Russian court sentenced ex-economy minister Alexei Ulyukayev to eight years in prison on Friday after finding him guilty of taking a $2 million bribe from Igor Sechin, the CEO of oil giant Rosneft.","read":false,"videos":[],"subjects":["Ekonomi","USA","Ryssland"],"publishedDateShort":"27m"},{"accountDocumentId":15,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"'Congratulations PM May': EU backs new phase in Brexit talks","tabs":["Nyheter"],"text":"BRUSSELS (Reuters) - The European Union agreed on Friday to move talks forward with London on Britain's exit from the bloc as leaders warmed to the British premier, but there was little clarity on trade issues and Austria warned the Irish border issue remained a \"riddle\".","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/fnsjuFnCfVU/congratulations-pm-may-eu-backs-new-phase-in-brexit-talks-idUSKBN1E9021","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513339820},"html":"BRUSSELS (Reuters) - The European Union agreed on Friday to move talks forward with London on Britain's exit from the bloc as leaders warmed to the British premier, but there was little clarity on trade issues and Austria warned the Irish border issue remained a \"riddle\".","read":false,"videos":[],"subjects":["EU","Ã–sterrike","Storbritannien","USA","London","Brexit","Europa","Irland"],"publishedDateShort":"13m"},{"accountDocumentId":16,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"Death toll rises to six after school bus, train collide in France","tabs":["Nyheter"],"text":"PARIS (Reuters) - The death toll from a collision which saw a train rip a school bus in half rose to six on Friday after doctors in southern France lost the battle overnight to save two of those left seriously injured, a source close to the investigation said.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/FSv3TgRl-ro/death-toll-rises-to-six-after-school-bus-train-collide-in-france-idUSKBN1E910O","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513335662},"html":"PARIS (Reuters) - The death toll from a collision which saw a train rip a school bus in half rose to six on Friday after doctors in southern France lost the battle overnight to save two of those left seriously injured, a source close to the investigation said.","read":false,"videos":[],"subjects":["USA","Frankrike"],"publishedDateShort":"1h"},{"accountDocumentId":17,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"NATO sounds alarm on banned Russian missile system","tabs":["Nyheter"],"text":"BRUSSELS (Reuters) - NATO allies on Friday publicly raised concern about a Russian cruise missile system that the alliance says may break a Cold War-era pact banning such weapons, in a show of support for Washington.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/Bnz9cOX7W94/nato-sounds-alarm-on-banned-russian-missile-system-idUSKBN1E9174","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513337099},"html":"BRUSSELS (Reuters) - NATO allies on Friday publicly raised concern about a Russian cruise missile system that the alliance says may break a Cold War-era pact banning such weapons, in a show of support for Washington.","read":false,"videos":[],"subjects":["USA","Ryssland","Washington"],"publishedDateShort":"58m"},{"accountDocumentId":18,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"Erdogan says Turkey starting initiatives at U.N. to annul U.S. decision on Jerusalem","tabs":["Nyheter"],"text":"ANKARA (Reuters) - Turkey is starting initiatives at the United Nations to annul a decision by the United States to recognize Jerusalem as Israel's capital, President Tayyip Erdogan said on Friday.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/PETA6EpwNeM/erdogan-says-turkey-starting-initiatives-at-u-n-to-annul-u-s-decision-on-jerusalem-idUSKBN1E91D8","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513339838},"html":"ANKARA (Reuters) - Turkey is starting initiatives at the United Nations to annul a decision by the United States to recognize Jerusalem as Israel's capital, President Tayyip Erdogan said on Friday.","read":false,"videos":[],"subjects":["USA","Turkiet","United Nations","Israel"],"publishedDateShort":"12m"},{"accountDocumentId":19,"feed":{"name":"Reuters - World","url":"http://www.reuters.com/news/world"},"title":"Thyssenkrupp has offered help to Argentina over disappeared submarine","tabs":["Nyheter"],"text":"FRANKFURT (Reuters) - Germany's Thyssenkrupp, has offered assistance to Argentinian authorities in an investigation into the disappearance of a submarine last month, a spokesman said on Friday.","score":null,"author":{"name":"","url":null},"pageUrl":"http://feeds.reuters.com/~r/Reuters/worldNews/~3/OTPTE5k8cKA/thyssenkrupp-has-offered-help-to-argentina-over-disappeared-submarine-idUSKBN1E919I","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513338194},"html":"FRANKFURT (Reuters) - Germany's Thyssenkrupp, has offered assistance to Argentinian authorities in an investigation into the disappearance of a submarine last month, a spokesman said on Friday.","read":false,"videos":[],"subjects":["Tyskland","Argentina","USA"],"publishedDateShort":"40m"},{"accountDocumentId":20,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Japan pledges $2.9 billion to support countries pursuing universal health coverage","tabs":["Nyheter"],"text":null,"score":16555.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jxsfb/japan_pledges_29_billion_to_support_countries/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513316656},"html":null,"read":false,"videos":[],"subjects":["Japan","Worldnews"],"publishedDateShort":"6h"},{"accountDocumentId":21,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Trump was reportedly offered a meeting with Putin one month after launching presidential bid","tabs":["Nyheter"],"text":null,"score":16025.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jwl8p/trump_was_reportedly_offered_a_meeting_with_putin/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513303150},"html":null,"read":false,"videos":[],"subjects":["Vladimir Putin","USA","Ryssland","Trump","Worldnews"],"publishedDateShort":"10h"},{"accountDocumentId":22,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"'Intentional' event redirects cloud traffic from Apple, Google & others through Russia: Internet traffic coming into and out of Apple, Facebook, Google, Microsoft, and other companies was briefly redirected through a Russian provider on Wednesday, in what appears to have been a deliberate move.","tabs":["Nyheter","Tech"],"text":null,"score":19360.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jtgrr/intentional_event_redirects_cloud_traffic_from/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513275591},"html":null,"read":false,"videos":[],"subjects":["Google","Apple","Ryssland","Microsoft","Facebook","Worldnews"],"publishedDateShort":"18h"},{"accountDocumentId":23,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Kim Jong Un's death squad takes out North Korea's 'second-most powerful man,' says South Korean report","tabs":["Nyheter"],"text":null,"score":3075.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jv7ry/kim_jong_uns_death_squad_takes_out_north_koreas/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513289915},"html":null,"read":false,"videos":[],"subjects":["Nordkorea","Sydkorea","Worldnews"],"publishedDateShort":"14h"},{"accountDocumentId":24,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"'Dirty dossier' on Donald Trump is probably credible, says former MI6 boss","tabs":["Nyheter"],"text":null,"score":3295.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7juhlw/dirty_dossier_on_donald_trump_is_probably/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513283955},"html":null,"read":false,"videos":[],"subjects":["USA","Trump","Worldnews"],"publishedDateShort":"15h"},{"accountDocumentId":25,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Polish officials says Putin responsible for 2010 plane crash","tabs":["Nyheter"],"text":null,"score":4643.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jt3nr/polish_officials_says_putin_responsible_for_2010/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513272544},"html":null,"read":false,"videos":[],"subjects":["Vladimir Putin","Ryssland","Worldnews"],"publishedDateShort":"18h"},{"accountDocumentId":26,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Vladimir Putin: Donald and I are on first name terms","tabs":["Nyheter"],"text":null,"score":27499.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jsatc/vladimir_putin_donald_and_i_are_on_first_name/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513265598},"html":null,"read":false,"videos":[],"subjects":["Vladimir Putin","Ryssland","Worldnews"],"publishedDateShort":"20h"},{"accountDocumentId":27,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"US jets intercept Russian planes over Syria and fire warning flares.","tabs":["Nyheter"],"text":null,"score":4097.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jt1rw/us_jets_intercept_russian_planes_over_syria_and/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513272117},"html":null,"read":false,"videos":[],"subjects":["USA","Ryssland","Syrien","Worldnews"],"publishedDateShort":"19h"},{"accountDocumentId":28,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Report: CIA Captured Putinâ€™s â€˜Specific Instructionsâ€™ to Hack the 2016 Election","tabs":["Nyheter","Tech"],"text":null,"score":63420.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jrn3z/report_cia_captured_putins_specific_instructions/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513259066},"html":null,"read":false,"videos":[],"subjects":["Vladimir Putin","IT-SÃ¤kerhet","Ryssland","Worldnews"],"publishedDateShort":"22h"},{"accountDocumentId":29,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Under-16s will require parental permission to use Facebook says draft French law","tabs":["Nyheter","Tech"],"text":null,"score":3933.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jsbg4/under16s_will_require_parental_permission_to_use/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513265763},"html":null,"read":false,"videos":[],"subjects":["Frankrike","Facebook","Worldnews"],"publishedDateShort":"20h"},{"accountDocumentId":30,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Norway becomes the first country in the world to completely switch off its FM radio broadcasts","tabs":["Nyheter"],"text":null,"score":1047.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jtxew/norway_becomes_the_first_country_in_the_world_to/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513279251},"html":null,"read":false,"videos":[],"subjects":["Norge","Worldnews"],"publishedDateShort":"17h"},{"accountDocumentId":31,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"734 children under five slaughtered in one month in Myanmar","tabs":["Nyheter"],"text":null,"score":4013.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jr5oq/734_children_under_five_slaughtered_in_one_month/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513253085},"html":null,"read":false,"videos":[],"subjects":["Myanmar","Worldnews"],"publishedDateShort":"1d"},{"accountDocumentId":32,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Miss Israel: Iraqi contestantâ€™s family forced to flee country over joint selfie","tabs":["Nyheter"],"text":null,"score":5249.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jqupb/miss_israel_iraqi_contestants_family_forced_to/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513248510},"html":null,"read":false,"videos":[],"subjects":["Irak","Israel","Worldnews"],"publishedDateShort":"1d"},{"accountDocumentId":33,"feed":{"name":"Reddit - r/worldnews","url":"https://www.reddit.com/r/worldnews"},"title":"Observation of interstellar object â€˜Oumuamua shows no evidence of artificial signals","tabs":["Nyheter"],"text":null,"score":1006.0,"author":null,"pageUrl":"https://www.reddit.com/r/worldnews/comments/7jtdw1/observation_of_interstellar_object_oumuamua_shows/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513274961},"html":null,"read":false,"videos":[],"subjects":["Worldnews"],"publishedDateShort":"18h"},{"accountDocumentId":34,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"H&M to boost online brand amid store closures","tabs":["Nyheter"],"text":"Swedish clothing giant H&M has said it will close more stores after sales fell below expectations in the fourth quarter.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171215/hm-to-boost-online-brand-after-unexpected-dip-in-sales-store-closures","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/c84e488dfe5da60db313bb2676188cec8cbf583295c24b880eae50b432189736.jpg","publishedDate":{"nano":0,"epochSecond":1513333394},"html":"Swedish clothing giant H&M has said it will close more stores after sales fell below expectations in the fourth quarter.","read":false,"videos":[],"subjects":["H&M","Inrikes"],"publishedDateShort":"2h"},{"accountDocumentId":35,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Seven things I still find weird about the Swedes","tabs":["Nyheter"],"text":"From jajamensan to navigating the most extreme battlefield section of Swedish supermarkets, there's plenty that Oliver Gee still finds baffling about Swedes. Oh, and he has definitely learned who his favourite kind of Swede is.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171215/seven-things-i-still-find-weird-about-the-swedes","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/2ee2d9bf451e08d649bdf8b7849612dfe0daab422bd0fc6bd78cc8a12c39198f.jpg","publishedDate":{"nano":0,"epochSecond":1513324799},"html":"From jajamensan to navigating the most extreme battlefield section of Swedish supermarkets, there's plenty that Oliver Gee still finds baffling about Swedes.\n\nOh, and he has definitely learned who his favourite kind of Swede is.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"4h"},{"accountDocumentId":36,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Police probe fire at new Tesla building in MalmÃ¶ ","tabs":["Nyheter","Biz"],"text":"Police in the south of Sweden are probing possible arson after US electric car giant Teslaâ€™s new building in MalmÃ¶ was damaged in a fire less than a day after it opened.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171215/police-probe-fire-at-new-tesla-building-in-malmo","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/241212c9869a899276f00c6728a91ac6b9686a85fce483599671165dbc1c7478.jpg","publishedDate":{"nano":0,"epochSecond":1513324210},"html":"Police in the south of Sweden are probing possible arson after US electric car giant Teslaâ€™s new building in MalmÃ¶ was damaged in a fire less than a day after it opened.","read":false,"videos":[],"subjects":["USA","Tesla","MalmÃ¶","Inrikes"],"publishedDateShort":"4h"},{"accountDocumentId":37,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"How to make saffron and white chocolate truffles for Christmas","tabs":["Nyheter"],"text":"Saffron is Sweden's Christmas spice, but John Duxbury's recipe for these soft, smooth truffles is good at the end of a meal at any time of year.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171215/how-to-make-saffron-and-white-chocolate-truffles","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/1132070048178b89a4ed08863a8efca18fd1b99214505a3afa5b163d712575fe.jpg","publishedDate":{"nano":0,"epochSecond":1513321199},"html":"Saffron is Sweden's Christmas spice, but John Duxbury's recipe for these soft, smooth truffles is good at the end of a meal at any time of year.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"5h"},{"accountDocumentId":38,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Sweden summons Iraqi ambassador over execution of terror suspect","tabs":["Nyheter"],"text":"Sweden's Foreign Ministry has summoned the Iraqi ambassador after a Swedish-Iraqi citizen sentenced for terror crimes was executed in the south of Iraq.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171215/sweden-summons-iraqi-ambassador-after-execution-of-terror-suspect","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/06bb4dc4e2283f3e5ad55acee8c995a222319f0886328adec1c3303b1b726b37.jpg","publishedDate":{"nano":0,"epochSecond":1513320356},"html":"Sweden's Foreign Ministry has summoned the Iraqi ambassador after a Swedish-Iraqi citizen sentenced for terror crimes was executed in the south of Iraq.","read":false,"videos":[],"subjects":["Irak","Inrikes","Terror"],"publishedDateShort":"5h"},{"accountDocumentId":39,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Peru recovers 79 pre-Hispanic textiles illegally kept in Sweden","tabs":["Nyheter"],"text":"Peru has recovered 79 pre-Hispanic textiles that have been illegally located in Sweden since 1935, the ministry of culture said.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171215/peru-recovers-79-pre-hispanic-textiles-illegally-kept-in-sweden","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/2d193e95ed901d15c1cb8b0993de409f50d9873bfe44b247362b47f01df00219.jpg","publishedDate":{"nano":0,"epochSecond":1513317943},"html":"Peru has recovered 79 pre-Hispanic textiles that have been illegally located in Sweden since 1935, the ministry of culture said.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"6h"},{"accountDocumentId":40,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Stockholm moves towards ban on racist or sexist advertising","tabs":["Nyheter"],"text":"Stockholm authorities have moved a step closer to banning racist or sexist advertising from public spaces in the Swedish capital.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/stockholm-moves-towards-ban-on-racist-or-sexist-advertising","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/9dc4f75f95bbc2e296629a57ae3e5cc42e447b52334f4abc66dc482950492ce7.jpg","publishedDate":{"nano":0,"epochSecond":1513267494},"html":"Stockholm authorities have moved a step closer to banning racist or sexist advertising from public spaces in the Swedish capital.","read":false,"videos":[],"subjects":["Stockholm","Inrikes"],"publishedDateShort":"20h"},{"accountDocumentId":41,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Would you eat this Swedish hybrid saffron bun kebab this Christmas?","tabs":["Nyheter"],"text":"In Sweden, almost every festival has a traditional food to go with it, and for Lucia Day in mid-December, that food is the saffron bun. But one Swedish baker put a twist on the dish, creating a hybrid Lucia kebab, with the meat encased in a saffron pastry.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/swedish-fast-food-restaurant-creates-hybrid-saffron-bun-kebab","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/dd12174e954fc3f94ac2ca2684c6560b0993a01d7560cc38473a57400690344d.jpg","publishedDate":{"nano":0,"epochSecond":1513265583},"html":"In Sweden, almost every festival has a traditional food to go with it, and for Lucia Day in mid-December, that food is the saffron bun. But one Swedish baker put a twist on the dish, creating a hybrid Lucia kebab, with the meat encased in a saffron pastry.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"20h"},{"accountDocumentId":42,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Fewer hate crimes reported in Sweden in 2016","tabs":["Nyheter"],"text":"The number of hate crimes reported in Sweden fell in 2016, according to new figures from the Swedish crime statistics agency, but the rate is still at a higher level than in the years before 2013.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/fewer-hate-crimes-reported-in-sweden-in-2016","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/aaa626c71dd4925e67b36075ad5f0b5cefac4f6f5f706b2314c0d5eac5f97765.jpg","publishedDate":{"nano":0,"epochSecond":1513258995},"html":"The number of hate crimes reported in Sweden fell in 2016, according to new figures from the Swedish crime statistics agency, but the rate is still at a higher level than in the years before 2013.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"22h"},{"accountDocumentId":43,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"What Sweden's new retirement age means for you","tabs":["Nyheter"],"text":"Sweden has decided to raise the retirement age following a broad cross-party agreement. Here's how long you may have to work under the new plan.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/what-swedens-new-retirement-age-means-for-you","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/0294d13089b669e71834203175d80de1f4a57e40250d6045c33cb4afeb2316fc.jpg","publishedDate":{"nano":0,"epochSecond":1513250642},"html":"Sweden has decided to raise the retirement age following a broad cross-party agreement. Here's how long you may have to work under the new plan.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":44,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Swedish police warn of scams using BankID to drain your account","tabs":["Nyheter"],"text":"Police have warned people using Sweden's major electronic ID scheme BankID to be wary of phone calls from scammers pretending to work for the bank and police.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/swedish-police-warn-of-scams-using-bankid-to-drain-your-account","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/0f8730fb65dba69f7862a0acc9f4c101dd69dc262f0327e9b9d1f360295c2641.jpg","publishedDate":{"nano":0,"epochSecond":1513248402},"html":"Police have warned people using Sweden's major electronic ID scheme BankID to be wary of phone calls from scammers pretending to work for the bank and police.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":45,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Traffic problems predicted as more snow and harsh weather hits southern Sweden","tabs":["Nyheter"],"text":"The winter weather is picking up on time for Christmas as Sweden's national weather agency warns that difficult conditions are on their way to the south of the country.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/traffic-problems-predicted-as-more-snow-and-harsh-weather-hits-southern-sweden","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/a122f7d45dacaf0b538c342a2e2898347e967cd0ddc6f9c5d20563ec924e52e9.jpg","publishedDate":{"nano":0,"epochSecond":1513237882},"html":"The winter weather is picking up on time for Christmas as Sweden's national weather agency warns that difficult conditions are on their way to the south of the country.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":46,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Swedish embassy in Iran investigated over improper visa processing","tabs":["Nyheter"],"text":"Two employees at Swedenâ€™s embassy in Teheran have been suspended from their positions over suspicions of improper visa processing.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/swedish-embassy-in-iran-investigated-over-improper-visa-processing","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/1e0c0f0c997bb3933542d60a3ff7bad8b2239b4b16cb29c8a6aad3a473599124.jpg","publishedDate":{"nano":0,"epochSecond":1513235422},"html":"Two employees at Swedenâ€™s embassy in Teheran have been suspended from their positions over suspicions of improper visa processing.","read":false,"videos":[],"subjects":["Iran","Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":47,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"First police to respond to Stockholm terror attack lacked protective equipment: report","tabs":["Nyheter"],"text":"The first police officers to arrive at the scene of the April Stockholm terror attack lacked sufficient protective equipment and weapons, an assessment of the police response shows.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/first-police-to-respond-to-stockholm-terror-attack-lacked-protective-equipment-report","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/7f44ad8d5c1afd9b537d83396dec9fb42bfde337168174a4abfa830a44fd87d6.jpg","publishedDate":{"nano":0,"epochSecond":1513232438},"html":"The first police officers to arrive at the scene of the April Stockholm terror attack lacked sufficient protective equipment and weapons, an assessment of the police response shows.","read":false,"videos":[],"subjects":["Stockholm","Inrikes","Terror"],"publishedDateShort":"1d"},{"accountDocumentId":48,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Seven evocative Swedish winter words for snow","tabs":["Nyheter"],"text":"They say that the further north you get, the more words you need to describe snow. We've picked out our favourite seven words to talk about the cold weather in Swedish.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171214/seven-evocative-swedish-winter-words-for-snow","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/e564e7a588fa4653424308f1f193fc96338f64e3499a6a85caa94ba7722b5a79.jpg","publishedDate":{"nano":0,"epochSecond":1513231199},"html":"They say that the further north you get, the more words you need to describe snow. We've picked out our favourite seven words to talk about the cold weather in Swedish.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":49,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Student dies after being stabbed at Stockholm school","tabs":["Nyheter"],"text":"A 17-year-old student, who arrived in Sweden as an unaccompanied refugee minor, died on Wednesday after being stabbed at a school in southern Stockholm.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171213/student-dies-stabbed-fight-stockholm-school-enskede","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/f36e5c415f3253dcbd7e127cfca7490fb0e73267136786351245c3ada3caae41.jpg","publishedDate":{"nano":0,"epochSecond":1513181125},"html":"A 17-year-old student, who arrived in Sweden as an unaccompanied refugee minor, died on Wednesday after being stabbed at a school in southern Stockholm.","read":false,"videos":[],"subjects":["Stockholm","Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":50,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Swedish minister criticized for spending thousands on English language help","tabs":["Nyheter"],"text":"Sweden's rural affairs minister has been criticized in Swedish media for racking up bills of hundreds of thousands of kronor to pay for language help in order to improve his English skills.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171213/swedish-minister-criticized-for-spending-thousands-on-english-language-help","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/daa93e0c6e4ef2f01d45cb0323f327c2033d59dc357c5522d579536f9fee2837.jpg","publishedDate":{"nano":0,"epochSecond":1513180534},"html":"Sweden's rural affairs minister has been criticized in Swedish media for racking up bills of hundreds of thousands of kronor to pay for language help in order to improve his English skills.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":51,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Why 16 fighter jets flew over Stockholm on Wednesday","tabs":["Nyheter"],"text":"Stockholm residents may have been surprised to hear loud noise and see the sight of 16 fighter jets flying over the Swedish capital on December 13th, but it's nothing to be alarmed about.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171213/why-16-fighter-jets-flew-over-stockholm-december-13","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/91b51fc51bce0df60b37d62f003fd2ef8346533054db69e8605ac6e138900767.jpg","publishedDate":{"nano":0,"epochSecond":1513172529},"html":"Stockholm residents may have been surprised to hear loud noise and see the sight of 16 fighter jets flying over the Swedish capital on December 13th, but it's nothing to be alarmed about.","read":false,"videos":[],"subjects":["Stockholm","Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":52,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Landmark court ruling could stop deportations of foreign workers from Sweden over technicalities","tabs":["Nyheter"],"text":"Sweden's top court on migration cases has issued a landmark ruling which could put an end to the deportation of foreign professionals over minor errors in their work permits.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171213/ruling-from-swedens-migration-court-of-appeal-could-stop-deportations-of-foreign-workers-over-technicalities","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/73d552ad9cc151bc3c02a78aab07af77d4252ba53a06d0a5be657eb55a7f89e3.jpg","publishedDate":{"nano":0,"epochSecond":1513169830},"html":"Sweden's top court on migration cases has issued a landmark ruling which could put an end to the deportation of foreign professionals over minor errors in their work permits.","read":false,"videos":[],"subjects":["Inrikes"],"publishedDateShort":"1d"},{"accountDocumentId":53,"feed":{"name":"TheLocal","url":"https://www.thelocal.se/"},"title":"Sweden's 'Laser Man' killer goes on trial in Germany","tabs":["Nyheter"],"text":"John Ausonius, one of Sweden's most notorious far-right killers has appeared in court in Germany for the first day of the trial over the murder of an Auschwitz survivor in Frankfurt 25 years ago.","score":null,"author":{"name":"","url":null},"pageUrl":"https://www.thelocal.se/20171213/swedens-laser-man-killer-goes-on-trial-in-germany","imageUrl":"https://www.thelocal.se/userdata/images/article/w468/653ba3e2fdf4791706d4db4a3f2dca2d74ed38dd4463f6d939ed52b0fbaaf5ce.jpg","publishedDate":{"nano":0,"epochSecond":1513156635},"html":"John Ausonius, one of Sweden's most notorious far-right killers has appeared in court in Germany for the first day of the trial over the murder of an Auschwitz survivor in Frankfurt 25 years ago.","read":false,"videos":[],"subjects":["Tyskland","Inrikes"],"publishedDateShort":"2d"},{"accountDocumentId":54,"feed":{"name":"xkcd","url":"https://xkcd.com"},"title":"Seven Years","tabs":["No Subjects","Fun"],"text":"","score":null,"author":{"name":"","url":null},"pageUrl":"https://xkcd.com/1928/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513123200},"html":"<img src=\"https://imgs.xkcd.com/comics/seven_years.png\" title=\"[hair in face] &quot;SEVVVENNN YEEEARRRSSS&quot;\" alt=\"[hair in face] &quot;SEVVVENNN YEEEARRRSSS&quot;\" />","read":false,"videos":[],"subjects":[],"publishedDateShort":"2d"},{"accountDocumentId":55,"feed":{"name":"Reddit - top","url":"https://www.reddit.com/top"},"title":"The FCCâ€™s vote was predictably frustrating, but weâ€™re not done fighting for net neutrality.","tabs":["Unmatched"],"text":null,"score":177880.0,"author":null,"pageUrl":"https://www.reddit.com/r/announcements/comments/7jsyqt/the_fccs_vote_was_predictably_frustrating_but/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513271415},"html":null,"read":false,"videos":[],"subjects":["Announcements"],"publishedDateShort":"19h"},{"accountDocumentId":56,"feed":{"name":"Reddit - top","url":"https://www.reddit.com/top"},"title":"Net Neutrality Overturned","tabs":["Nyheter"],"text":null,"score":144009.0,"author":null,"pageUrl":"https://www.reddit.com/r/news/comments/7jtexm/net_neutrality_overturned/","imageUrl":null,"publishedDate":{"nano":0,"epochSecond":1513275208},"html":null,"read":false,"videos":[],"subjects":["Net Neutrality","News"],"publishedDateShort":"18h"},{"accountDocumentId":57,"feed":{"name":"Reddit - top","url":"https://www.reddit.com/top"},"title":"Being in chemo all day is not exactly how I pictured spending my 21st birthday, but hey! I made it to 21! As long as Iâ€™m around for my 22nd I canâ€™t complain :)","tabs":["Fun"],"text":null,"score":114669.0,"author":null,"pageUrl":"https://www.reddit.com/r/pics/comments/7js3pg/being_in_chemo_all_day_is_not_exactly_how_i/","imageUrl":"https://i.redd.it/tf2q83ckkw301.jpg","publishedDate":{"nano":0,"epochSecond":1513263755},"html":null,"read":false,"videos":[],"subjects":["Pics"],"publishedDateShort":"21h"}]);
            return;
        }
        $http({
            method: 'GET',
            url: '/rest/accountdocuments?' + param('keys', keys),
            headers: {
                'Cache-Control': 'no-cache, no-store'
            }
        }).then(function(response) {
            callback(response.data);
        });
    };

    function param(name, list) {


        let paramString = '';
        list.forEach(e => paramString += '&' + name + '=' + e);
        return paramString.substring(1);
    }
});

app.service('settingsService', function($http, $cacheFactory) {
    "use strict";

    this.getAllSubjectRules = function(callback) {
        $http({
            method: 'GET',
            url: '/rest/subjectRules',
            headers: {
                'Cache-Control': 'no-cache, no-store'
            }
        }).then(function(response) {
            callback(response.data);
        });
    };

    this.putSubjectRule = function(subjectRule, callback) {
        $http.put("/rest/subjectRules", subjectRule).then(function(response) {
            callback(response.data);
        });
    };

    this.deleteSubjectRule = function(subjectRule, callback) {
        $http.delete("/rest/subjectRules/"+ subjectRule.id).then(callback);
    };

    this.getAllTabRules = function(callback) {
        $http({
            method: 'GET',
            url: '/rest/tabRules',
            headers: {
                'Cache-Control': 'no-cache, no-store'
            }
        }).then(function(response) {
            callback(response.data);
        });
    };

    this.putTabRule = function(tabRule, callback) {
        $http.put("/rest/tabRules", tabRule).then(function(response) {
            callback(response.data);
        });
    };

    this.deleteTabRule = function(tabRule, callback) {
        $http.delete("/rest/tabRules/"+ tabRule.id).then(callback);
    };
});
