<html lang="en">
<head>
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/animations.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <script type="text/javascript" src="./bower_components/angular/angular.js"></script>
    <script type="text/javascript" src="./bower_components/angular-resource/angular-resource.js"></script>
    <script type="text/javascript" src="./bower_components/angular-cookies/angular-cookies.js"></script>
    <script type="text/javascript" src="./bower_components/angular-animate/angular-animate.js"></script>
    <script type="text/javascript" src="./bower_components/ngInfiniteScroll/build/ng-infinite-scroll.js"></script>
    <script type="text/javascript" src="./app/app.js"></script>
    <script type="text/javascript" src="./app/controllers.js"></script>
    <script type="text/javascript" src="./app/services.js"></script>
</head>
<body>
<div ng-app="myApp" ng-controller="myCtrl">
    <div class="navbar">
        <input ng-model="searchText" placeholder="Search">
        <label for="show-read">Hide read</label>
        <input id="show-read" class="show-read" type="checkbox" ng-model="showRead">
        Keys:{{keys.length}} | Items:{{(items | filter:searchText).length}} | unread:{{(items | filter:{read:false}).length}} | limit:{{itemLimit}}
    </div>
    <div infinite-scroll="increaseLimit()" infinite-scroll-distance="15">
    <div class="item-box {{item.cssClass}} {{item.read ? 'read' : ''}} {{item.flagged ? 'flagged' : ''}}"
        ng-repeat="item in items | filter:({read:showRead}  | filter:searchText | limitTo:itemLimit | limitTo:1000"
        ng-hide="item.hide">

        <!--orderBy:'-publishedDate.epochSecond' | -->


        <div class="input-box">
            <input class="read-input" type="checkbox" ng-model="item.read" ng-change="setDocumentRead(item, item.read)">
        </div>
        <div class="content-box">
            {{key}}
            <div class="top-row">
                <div class="feedName" ng-if="item.feed.name"><a href="{{item.feed.url}}">{{item.feed.name}}</a></div>
                <div class="score" ng-if="item.score"> | {{item.score}}</div>
                <div class="category" ng-if="item.category.name"> | <a href="{{item.category.url}}">{{item.category.name}}</a></div>
                <div class="author" ng-if="item.author.name"> | <a href="{{item.author.url}}">{{item.author.name}}</a></div>
                <div class="time-since" ng-if="item.publishedDateShort"> | {{item.publishedDateShort}}</div>
            </div>


            <div class="title" ng-if="item.title"><a class="link" href="{{item.pageUrl}}" >{{item.title}}</a></div>
            <div class="text" ng-if="item.text && !item.html">{{item.text}}</div>


            <span class="htmlContent" ng-bind-html="$sce.trustAsHtml(item.html)"></span>
            <div ng-if="item.imageUrl" class="image-box">
                <a href="{{item.pageUrl}}">
                    <img class="image-box-image" src="{{item.imageUrl}}" ng-if="item.imageUrl" />
                </a>
            </div>

        </div>
    </div>
    </div>
</div>
</body>
</html>
